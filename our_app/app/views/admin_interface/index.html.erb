<% if current_student.try(:admin?) %>
<h1>Admin Interface</h1>
<h2>Student Graders</h2>
<table>
  <thead>
    <tr>
      <th>First name</th>
      <th>Last name</th>
      <th>Middle name</th>
      <th>Student email</th>
      <th>Phone number</th>
      <th>Grading preference</th>
      <th>Start time</th>
      <th>End time</th>
      <th>Days</th>
      <th colspan="1"></th>
    </tr>
  </thead>

  <tbody>
    <% @applications.each do |application| %>
      <tr>
        <td><%= application.First_Name %></td>
        <td><%= application.Last_Name %></td>
        <td><%= application.Middle_Name %></td>
        <td><%= application.Student_Email %></td>
        <td><%= application.Phone_Number %></td>
        <td><%= application.Grading_Preference %></td>
        <td><%= application.Start_Time %></td>
        <td><%= application.End_Time %></td>
        <td><%= application.Days %></td>
        <td><%= link_to 'Show', application %></td>
        <td><%= link_to 'Edit', edit_application_path(application) %></td>
        <td><%= link_to 'Destroy', application, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>


<h2> Recommendations submitted by teachers </h2>
<table>
  <thead>
    <tr>
      <th>Instructor first name</th>
      <th>Instructor last name</th>
      <th>Instructor middle name</th>
      <th>Recommended student email</th>
      <th>Course section</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    
    <% if @recommendations!=nil %>
    <% @recommendations.each do |recommendation| %>
      <tr>
        <td><%= recommendation.Instructor_First_Name %></td>
        <td><%= recommendation.Instructor_Last_Name %></td>
        <td><%= recommendation.Instructor_Middle_Name %></td>
        <td><%= recommendation.Recommended_Student_Email %></td>
        <td><%= recommendation.Course_Section %></td>
        <td><%= link_to 'Show', recommendation %></td>
        <td><%= link_to 'Edit', edit_recommendation_path(recommendation) %></td>
        <td><%= link_to 'Destroy', recommendation, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      <% end %>
    <% end %>
  </tbody>
</table>



<h2>Classes That Need a Grader</h2>

<table>
  <thead>
    <tr>
      <th>Course number</th>
      <th>Course section</th>
      <th>Class day</th>
      <th>Class time</th>
      <th>Grader needed</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @courses.each do |course| %>
      <% if course.Grader_Needed > 0 %>
        <tr>
          <td><%= course.Course_Number %></td>
          <td><%= course.Course_Section %></td>
          <td><%= course.Class_Day %></td>
          <td><%= course.Class_Time %></td>
          <td><%= course.Grader_Needed %></td>
          <td><%= link_to 'Show', course %></td>
          <td><%= link_to 'Edit', edit_course_path(course) %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<h2>Classes That Have a Grader</h2>

<table>
  <thead>
    <tr>
      <th>Course number</th>
      <th>Course section</th>
      <th>Class day</th>
      <th>Class time</th>
      <th>Grader needed</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @courses.each do |course| %>
      <% if course.Grader_Needed == 0 %>
        <tr>
          <td><%= course.Course_Number %></td>
          <td><%= course.Course_Section %></td>
          <td><%= course.Class_Day %></td>
          <td><%= course.Class_Time %></td>
          <td><%= course.Grader_Needed %></td>
          <td><%= link_to 'Show', course %></td>
          <td><%= link_to 'Edit', edit_course_path(course) %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>

<% else %>
  
  <%= render 'shared/auth_error' =%>

<% end %>